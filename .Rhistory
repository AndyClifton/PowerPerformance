sLCOE = (capitalCost * CRF + fixedOandM + (fuelCost * heatRate) + variableOandM)/
(8760 * (capacityFactor/100))
sLCOE
irate
CRF
sLCOE = (capitalCost * CRF + fixedOandM)/
(8760 * (capacityFactor/100))
sLCOE
sLCOE = (capitalCost * CRF + fixedOandM)/
(8760 * (capacityFactor/100)) + (fuelCost/1000000 * heatRate) + variableOandM
sLCOE
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
LCOE
for (year in seq(1,periods,1)){
if (year == 1){
investment = capitalCost
} else {
investment = 0
}
LCOE$costs[year] = (investment + fixedOandM + variableOandM +
((fuelCost*(costEscalationRate/100)^year)/1000000 * heatRate)) /
(1+discountRate)^year
LCOE$production[year] = (8760 * (capacityFactor/100))
}
LCOE
source('~/.active-rstudio-document')
LCOE
sum(LCOE)
sum(LCOE$costs)/sum(LCOE$production)
source('~/.active-rstudio-document')
sum(LCOE$costs)/sum(LCOE$production)
source('~/.active-rstudio-document')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
LCOE <- data.frame(year = NA,
investment = NA,
totalCosts = NA,
production = NA)
LCOE
year
LCOE$year[year] <- year
LCOE$year
LCOE <- data.frame(year = rep(NA,periods),
investment = NA,
totalCosts = NA,
production = NA)
LCOE
LCOE$year[year] <- year
LCOE
LCOE <- data.frame(year = rep(NA,periods),
investment = NA,
totalCosts = NA,
production = NA)
for (year in seq(1,periods,1)){
LCOE$year[year] <- year
if (year == 1){
investment = capitalCost
} else {
investment = 0
}
LCOE$investment[year] <- investment
LCOE$totalCosts[year] = (investment + fixedOandM + variableOandM +
(fuelCost/1000000 * heatRate)) / (1+discountRate)^year
LCOE$production[year] = (8760 * (capacityFactor/100)) / (1+discountRate)^year
}
sum(LCOE$costs)/sum(LCOE$production)
LCOE
discountRate
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
sum(LCOE$costs)/sum(LCOE$production)
LCOE
sum(LCOE$totalCosts)/sum(LCOE$production)
LCOEout <- sum(LCOE$totalCosts)/sum(LCOE$production)
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
LCOE
source('~/.active-rstudio-document')
LCOE
source('~/.active-rstudio-document')
LCOE
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
LCOEout
sLCOE
source('~/.active-rstudio-document')
sLCOE
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
sLCOE
LCOEout
LCOE
+ (fuelCost * heatRate) + variableOandM
(capitalCost * CRF + fixedOandM)
(8760 * (capacityFactor/100))
sum(LCOE$totalCosts.discounted)
/sum(LCOE$production.discounted)
sum(LCOE$production.discounted)
sum(LCOE$production.discounted)/20
sum(LCOE$totalCosts.discounted)
(fuelCost * heatRate) + variableOandM
(8760 * (capacityFactor/100))
(capitalCost * CRF + fixedOandM)
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
discountRate
LCOEout
sLCOE
source('~/.active-rstudio-document')
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
(8760 * (capacityFactor/100))
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
LCOEout
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
melt(LCOE, id.vars = "year")
require("ggplot2")
require("reshape2")
melt(LCOE, id.vars = "year")
p.LCOE <- ggplot(data = melt(LCOE, id.vars = "year"),
aes(x = year,
y = value,
colour = variable)) +
geom_line()
print(p.LCOE)
source('~/.active-rstudio-document')
LCOEout <- sum(costs$total.discounted)/sum(production$discounted)
cat(LCOEout, "\n")
p.costs <- ggplot(data = melt(costs, id.vars = "year"),
aes(x = year,
y = value,
colour = variable)) +
geom_line()
print(p.LCOE)
?apply
DR <- ((1+discountRate/100)^seq(1,periods,1))
DR
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
total.costs
total.production
total.production
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
p.costs <- ggplot(data = melt(total.costs, id.vars = "year"),
aes(x = year,
y = value,
colour = variable)) +
geom_line()
print(p.costs)
source('~/.active-rstudio-document')
discount.new
year.from.start
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
discount$discount.factor
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
discount.new$year
discount.new
discount
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
total.costs
total.costs
LCOEout <- sum(total.costs$discounted)/sum(total.production$discounted)
cat(LCOEout, "\n")
costs
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
costs
income
production
escalationRate
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
total.income
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
total.income
year.from.start
income
costs
cbind(costs, -income)
cashflow <- cbind(income, -costs)
cashflow.discounted <- cashflow / discount$discount.factor
cashflow.discounted
discount
## CASHFLOW
cashflow <- cbind(income, -costs)
cashflow.discounted <- cashflow / discount$discount.factor
cashflow.discounted$year <- discount$year
cashflow.discounted$year.from.start <- discount$year.from.start
# plot the cashflow
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = -value,
colour = variable)) +
geom_line()
print(p.cashflow)
cashflow.discounted
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
colour = variable)) +
geom_bar()
print(p.cashflow)
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
colour = variable)) +
geom_bar(stat = "identity")
print(p.cashflow)
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity")
print(p.cashflow)
>geom_histogram
?geom_histogram
cashflow.discounted
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity","stacked")
print(p.cashflow)
p.cashflow <- ggplot(data = melt(cashflow.discounted, id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity",position = "stacked")
print(p.cashflow)
costs
costs.discounted <- costs / discount$discount.factor
costs.discounted
costs.discounted <- costs / discount$discount.factor
total.costs<- data.frame(year = discount$year,
actual = apply(costs, 1, sum))
total.costs$discounted = apply(costs.discounted, 1, sum))
total.costs$discounted = apply(costs.discounted, 1, sum)
costs.discounted <- costs / discount$discount.factor
total.costs<- data.frame(year = discount$year,
actual = apply(costs, 1, sum))
total.costs$discounted = apply(costs.discounted, 1, sum)
total.costs$discounted
cashflow
cashflow <- data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income, -costs))
cashflow
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
costs
costs / discount$discount.factor
costs / discount$discount.factor
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
cashflow.discounted
costs.discounted
income.discounted
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
production.nominal
source('~/.active-rstudio-document')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
cashflow.discounted
total.costs
costs.discounted
apply(income.discounted, 1, sum)
income.discounted
apply(income.discounted, 1, sum)
npv <- apply(income.discounted, 1, sum) + apply(costs.discounted, 1, sum)
npv
apply(costs.discounted, 1, sum)
costs.discounted
npv <- apply(income.discounted, 1, sum) - apply(costs.discounted, 1, sum)
npv
npv <- data.frame(per.year = apply(income.discounted, 1, sum) - apply(costs.discounted, 1, sum))
npv
npv$cumulative <- cumsum(npv$per.year)
npv$cumulative
npv <- data.frame(year = discount$year,
per.year = apply(income.discounted, 1, sum) - apply(costs.discounted, 1, sum))
npv$cumulative <- cumsum(npv$per.year)
p.cashflow <- ggplot(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income.discounted/1000)),
id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity",position = "stack") +
geom_bar(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(-costs.discounted/1000)),
id.vars = c("year","year.from.start")),
stat = "identity",position = "stack") +
geom_line(data = npv,
aes(x = year,
y = cumulative))
p.cashflow <- ggplot(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income.discounted/1000)),
id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity",position = "stack") +
geom_bar(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(-costs.discounted/1000)),
id.vars = c("year","year.from.start")),
stat = "identity",position = "stack") +
geom_line(data = npv,
aes(x = year,
y = cumulative)) +
scale_y_continuous(name = "Value (Thousands of discounted dollars)",
labels = comma)
print(p.cashflow)
npv
npv <- data.frame(year = discount$year,
year.from.start = discount$year.from.start,
per.year = apply(income.discounted, 1, sum) - apply(costs.discounted, 1, sum))
npv$cumulative <- cumsum(npv$per.year)
p.cashflow <- ggplot(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income.discounted/1000)),
id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity",position = "stack") +
geom_bar(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(-costs.discounted/1000)),
id.vars = c("year","year.from.start")),
stat = "identity",position = "stack") +
geom_line(data = melt(npv,
id.vars = c("year","year.from.start")),
aes(x = year,
y = cumulative)) +
scale_y_continuous(name = "Value (Thousands of discounted dollars)",
labels = comma)
print(p.cashflow)
npv
p.cashflow <- ggplot(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income.discounted/1000)),
id.vars = c("year","year.from.start")),
aes(x = year,
y = value,
fill = variable)) +
geom_bar(stat = "identity",position = "stack") +
geom_bar(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(-costs.discounted/1000)),
id.vars = c("year","year.from.start")),
stat = "identity",position = "stack") +
geom_line(data = melt(npv,
id.vars = c("year","year.from.start"))) +
scale_y_continuous(name = "Value (Thousands of discounted dollars)",
labels = comma)
print(p.cashflow)
p.cashflow <- ggplot(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(income.discounted)),
id.vars = c("year","year.from.start")),
aes(x = year,
y = value/1000,
fill = variable)) +
geom_bar(stat = "identity",position = "stack") +
geom_bar(data = melt(data.frame(year = discount$year,
year.from.start = discount$year.from.start,
cbind(-costs.discounted)),
id.vars = c("year","year.from.start")),
stat = "identity",position = "stack") +
geom_line(data = melt(npv,
id.vars = c("year","year.from.start"))) +
scale_y_continuous(name = "Value (Thousands of discounted dollars)",
labels = comma)
print(p.cashflow)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/Documents/public/projects/PRUF/Models/LCOE_toy.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
total.costs
source('~/.active-rstudio-document')
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png")
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
devoff
dev.off()
?png
png("SankeyPlot.png", width = 480, height = 480, res = 300)
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
dev.off()
png("SankeyPlot.png",
width = 480, height = 480, units = "px",
res = 300,
type = c("cairo"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
dev.off()
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png",
width = 480, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("cairo"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
dev.off()
png("SankeyPlot.png",
width = 480, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("quartz"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.1, 0.1, 0.1),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
dev.off()
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png",
width = 480, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("quartz"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.3, 0.4, 5.3),
unit = c("apples"),
labels = c("a","b","c"),
format="plot")
dev.off()
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png",
width = 480, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("quartz"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.3, 0.4, 5.3),
unit = c("[GWh]"),
labels = c("a","b","c"),
format="plot")
dev.off()
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png",
width = 960, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("quartz"))
SankeyR(inputs = c(1, 2, 3),
losses = c(0.3, 0.4, 5.3),
unit = c("[GWh]"),
labels = c("a","b","c"),
format="plot")
dev.off()
inputs = c(120,92)
losses = c(45,75,90,1,6)
unit = "GtC/yr"
labels = c("GPP","Ocean assimilation","Ra","Rh","Ocean loss","LULCC","Fossil fuel emissions")
setwd("~/Documents/public/code/R/StackOverflow/")
png("SankeyPlot.png",
width = 960, height = 480, units = "px",
pointsize = 8,
res = 300,
type = c("quartz"))
SankeyR(inputs,losses,unit,labels)
dev.off()
source('~/.active-rstudio-document')
